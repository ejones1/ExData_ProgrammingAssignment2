setwd("C:/Users/joneseri/Coursera/ExploratoryDataAnalysis/exdata_data_NEI_data")
# Reads-in data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Subsets data from NEI and SCC datasets to include only emissions
# from coal combustion-related sources
SCC_coal <- subset(SCC, grepl("Combustion", SCC.Level.One)
& grepl("Coal", SCC.Level.Three))
NEI_coal <- subset(NEI, NEI$SCC %in% SCC_coal$SCC)
NEI_Emissions <- rowsum(NEI_coal$Emissions, NEI_coal$year)
years <- rownames(NEI_Emissions)
# Plots coal combustion-related data
#plot4 <- qplot(x = year, y = Emissions, data = NEI_coal)
qplot(rownames(NEI_Emissions), data = NEI_Emissions)
library("ggplot2")
qplot(rownames(NEI_Emissions), data = NEI_Emissions)
as.data.frame(NEI_Emissions)
qplot(rownames(NEI_Emissions), data = NEI_Emissions)
class(NEI_Emissions)
data <- as.data.frame(NEI_Emissions)
class(data)
NEI_Emissions <- as.data.frame(NEI_Emissions)
qplot(rownames(NEI_Emissions), data = NEI_Emissions)
qplot(years, data = NEI_Emissions)
View(data)
View(NEI_Emissions)
qplot(years, data = NEI_Emissions, fill = V1)
?hist
hist(NEI_Emissions, col = "teal",
hist(NEI_Emissions, col = "teal",
main = "U.S. Coal Combustion-Related Emissions",
xlab = "Years",
ylab = "Emissions")
hist(NEI_Emissions$V1, col = "teal",
main = "U.S. Coal Combustion-Related Emissions",
xlab = "Years",
ylab = "Emissions")
hist(NEI_Emissions$V1, col = "teal",
main = "U.S. Coal Combustion-Related Emissions",
xlab = "Years",
ylab = "Emissions")
hist(NEI_Emissions$V1, col = "aqua",
main = "U.S. Coal Combustion-Related Emissions",
xlab = "Years",
ylab = "Emissions")
hist(NEI_Emissions$V1, col = "purple",
main = "U.S. Coal Combustion-Related Emissions",
xlab = "Years",
ylab = "Emissions")
qplot(x = year, y = Emissions, data = NEI_coal)
qplot(x = year, y = Emissions, data = NEI_Emissions)
qplot(years, y = NEI_Emissions$V1, data = NEI_Emissions)
Years <- rownames(NEI_Emissions)
qplot(Years, y = NEI_Emissions$V1, data = NEI_Emissions)
qplot(Years, data = NEI_Emissions, fill = NEI_Emissions$V1, geom = "bar")
qplot(Years, data = NEI_Emissions, geom = "histogram")
qplot(Years, data = NEI_Emissions, geom = "histogram", binwidth=2)
qplot(Years, data = NEI_Emissions, geom = "histogram", binwidth=200)
qplot(Years, data = NEI_Emissions, geom = "histogram", binwidth=.002)
qplot(Years, data = NEI_Emissions, geom = "histogram", binwidth=60000)
class(NEI_Emissions$V1)
View(NEI)
View(SCC)
View(SCC_coal)
View(NEI_coal)
qplot(year, data= "NEI_coal", geom = "histogram")
qplot(year, data = NEI_coal, geom = "histogram")
qplot(year, data = NEI_coal, geom = "histogram", binwidth = 2)
qplot(year, data = NEI_coal, geom = "histogram", binwidth = 1)
qplot(year, data = NEI_coal, geom = "histogram")
qplot(year, data = NEI_coal, geom = "bar")
qplot(year, data = NEI_coal, geom = "bar", colour = "purple")
qplot(year, data = NEI_coal, geom = "bar", colour = "red")
# Loads ggplot package
qplot(year, data = NEI_coal, geom = "bar", fill = "red")
qplot(year, data = NEI_coal, geom = "bar", fill = NEI_coal$Emissions)
qplot(year, data = NEI_coal, geom = "bar")
qplot(year, data = NEI_coal)
qplot(year, data = NEI_coal, fill = Emissions)
class(NEI_coal$Emissions)
TotalNEIcoal <- rowsum(NEI_coal$Emissions, NEI_coal$year)
Years <- rownames(TotalNEIcoal)
View(TotalNEIcoal)
TotalNEIcoal <- as.data.frame(TotalNEIcoal)
View(TotalNEIcoal)
View(data)
colnames(TotalNEIcoal) <- c("Year", "Emissions")
View(TotalNEIcoal)
setwd("C:/Users/joneseri/Coursera/ExploratoryDataAnalysis/exdata_data_NEI_data")
# Reads-in data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Loads ggplot package
library("ggplot2")
# Subsets data from NEI and SCC datasets to include only emissions
# from coal combustion-related sources
SCC_coal <- subset(SCC, grepl("Combustion", SCC.Level.One)
& grepl("Coal", SCC.Level.Three))
NEI_coal <- subset(NEI, NEI$SCC %in% SCC_coal$SCC)
TotalNEIcoal <- rowsum(NEI_coal$Emissions, NEI_coal$year)
TotalNEIcoal <- as.data.frame(TotalNEIcoal)
colnames(TotalNEIcoal) <- c("Year", "Emissions")
colnames(TotalNEIcoal) <- c("Emissions")
View(TotalNEIcoal)
year <- rownames(TotalNEIcoal)
Year <- rownames(TotalNEIcoal)
qplot(Year, data = TotalNEIcoal, fill = Emissions)
qplot(Year, data = TotalNEIcoal, fill = Emissions, geom = "bar")
qplot(Year, data = TotalNEIcoal, fill = Emissions, geom = "histogram")
qplot(Year, data = TotalNEIcoal, geom = "histogram")
qplot(Year, Emissions, data = TotalNEIcoal, geom = "histogram")
qplot(Year, Emissions, data = TotalNEIcoal)
qplot(Year, Emissions, data = TotalNEIcoal, geom = "line")
qplot(aes(Year, Emissions, data = TotalNEIcoal) + geom_point() + geom_line())
qplot(Year, Emissions, data = TotalNEIcoal)
qplot(Year, Emissions, data = TotalNEIcoal, geom = "point")
qplot(Year, Emissions, data = TotalNEIcoal, geom = c("point", "line"))
qplot(Year, Emissions, data = TotalNEIcoal, geom = c("point", "smooth"))
qplot(Year, Emissions, data = TotalNEIcoal, geom = "line")
qplot(Year, Emissions, data = TotalNEIcoal, geom = "lm")
qplot(Year, Emissions, data = TotalNEIcoal, method = "lm")
qplot(Year, Emissions, data = TotalNEIcoal, geom = "line")
qplot(Year, Emissions, data = TotalNEIcoal)
qplot(Year, Emissions, data = TotalNEIcoal, geom = "bar")
qplot(Year, Emissions, data = TotalNEIcoal, geom = "histogram")
qplot(Year, Emissions, data = TotalNEIcoal, geom = "freq")
qplot(Year, Emissions, data = TotalNEIcoal)
qplot(year, Emissions, data = NEI_coal)
qplot(year, Emissions, data = NEI_coal, geom = "bar")
qplot(year, Emissions, data = NEI_coal, geom = "histogram")
qplot(year, data = NEI_coal, stat = "bin", geom = "histogram")
qplot(year, data = NEI_coal, stat = "bin", geom = "histogram", ylab = "Emissions")
qplot(year, data = NEI_coal, stat = "bin", geom = "histogram",
ylab = "Emissions", main = "U.S. Coal Combustion-Related Emissions")
qplot(year, data = NEI_coal, stat = "bin", geom = "histogram", xlab="Year",
ylab = "Emissions", main = "U.S. Coal Combustion-Related Emissions")
plot4 <- qplot(year, data = NEI_coal, stat = "bin",
geom = "histogram", xlab = "Year", ylab = "Emissions",
main = "U.S. Coal Combustion-Related Emissions")
ggsave(filename = "plot4.png", plot = plot4)
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
SCC_coal <- subset(SCC, grepl("Vehicles", SCC$EI.Sector))
SCC_coal <- subset(SCC, grepl("Vehicles", EI.Sector))
View(SCC_coal)
SCC_cars <- subset(SCC, grepl("Vehicles", EI.Sector))
SCC_vehs <- subset(SCC, grepl("Vehicles", EI.Sector))
NEIbalt_vehs <- subset(NEIbalt, NEIbalt$SCC %in% SCC_vehs$SCC)
NEIbalt <- subset(NEI, NEI$fips == 24510)
NEIbalt_vehs <- subset(NEIbalt, NEIbalt$SCC %in% SCC_vehs$SCC)
View(NEIbalt_vehs)
cars <- as.character(SCC[grepl("Vehicles", SCC$EI.Sector),1])
MDCars <- subset(NEI, (SCC %in% cars))
MDCars <- subset(MDCars, fips == "24510")
balt_allVehs <- tapply(NEIbalt_vehs$Emissions, NEIbalt_vehs$year, sum)
balt_allVehs <- as.data.frame(balt_allVehs)
View(balt_allVehs)
colnames(balt_allVehs) <- c("Emissions")
View(balt_allVehs)
Year <- rownames(balt_allVehs)
plot5 <- ggplot(balt_allVehs, aes(Year, Emissions, group = 1))
plot5 <- plot5 + geom_line()
ggsave(filename = "plot5.png", plot5)
UScoalALL <- tapply(NEI_coal$Emissions, NEI_coal$year, sum)
# Reads-in data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Loads ggplot package
library("ggplot2")
# Subsets data from NEI and SCC datasets to include only emissions
# from coal combustion-related sources
SCC_coal <- subset(SCC, grepl("Combustion", SCC.Level.One)
& grepl("Coal", SCC.Level.Three))
NEI_coal <- subset(NEI, NEI$SCC %in% SCC_coal$SCC)
UScoalALL <- tapply(NEI_coal$Emissions, NEI_coal$year, sum)
UScoalALL <- as.data.frame(UScoalALL)
colnames(UScoalALL) <- c("Emissions")
Year <- rownames(UScoalALL)
plot4 <- ggplot(UScoalALL, aes(Year, Emissions, group = 1))
plot4 <- plot4 + geom_line()
#plot4 <- qplot(year, data = NEI_coal, stat = "bin",
#              geom = "histogram", xlab = "Year", ylab = "Emissions",
#             main = "U.S. Coal Combustion-Related Emissions")
ggsave(filename = "plot4.png", plot = plot4)
plot4 <- ggplot(UScoalALL, aes(Year, Emissions, group = 1), main = "U.S. Coal Combustion-Related Emissions")
plot4 <- plot4 + geom_line()
plot4
plot4 <- ggplot(UScoalALL, aes(Year, Emissions, group = 1), main = "U.S. Coal Combustion-Related Emissions")
plot4 <- plot4 + geom_line()
#plot4 <- qplot(year, data = NEI_coal, stat = "bin",
#              geom = "histogram", xlab = "Year", ylab = "Emissions",
#             main = "U.S. Coal Combustion-Related Emissions")
ggsave(filename = "plot4.png", plot = plot4)
plot4 <- ggplot(UScoalALL, aes(Year, Emissions, group = 1))
plot4 <- plot4 + geom_line() +  main("U.S. Coal Combustion-Related Emissions")
#plot4 <- qplot(year, data = NEI_coal, stat = "bin",
#              geom = "histogram", xlab = "Year", ylab = "Emissions",
#             main = "U.S. Coal Combustion-Related Emissions")
ggsave(filename = "plot4.png", plot = plot4)
plot4 <- ggplot(UScoalALL, aes(Year, Emissions, group = 1))
plot4 <- plot4 + geom_line() + labs(main = "U.S. Coal Combustion-Related Emissions")
#plot4 <- qplot(year, data = NEI_coal, stat = "bin",
#              geom = "histogram", xlab = "Year", ylab = "Emissions",
#             main = "U.S. Coal Combustion-Related Emissions")
ggsave(filename = "plot4.png", plot = plot4)
plot4 <- ggplot(UScoalALL, aes(Year, Emissions, group = 1))
plot4 <- plot4 + geom_line() + labs(y = "U.S. Coal Combustion-Related Emissions")
#plot4 <- qplot(year, data = NEI_coal, stat = "bin",
#              geom = "histogram", xlab = "Year", ylab = "Emissions",
#             main = "U.S. Coal Combustion-Related Emissions")
ggsave(filename = "plot4.png", plot = plot4)
plot5 <- ggplot(balt_allVehs, aes(Year, Emissions, group = 1))
plot5 <- plot5 + geom_line() + labs(y = "Baltimore Vehicle Emissions")
ggsave(filename = "plot5.png", plot5)
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Loads ggplot2 package
library(ggplot2)
# Subsets Baltimore City emissions data
NEIbalt <- subset(NEI, NEI$fips == 24510)
# Subsets Batlimore City motor vehicle emissions data
SCC_vehs <- subset(SCC, grepl("Vehicles", EI.Sector))
NEIbalt_vehs <- subset(NEIbalt, NEIbalt$SCC %in% SCC_vehs$SCC)
# Adds up the total vehicle emissions for each year
balt_allVehs <- tapply(NEIbalt_vehs$Emissions, NEIbalt_vehs$year, sum)
# Converts balt_allVehs matrix to a dataframe & renames cols and rows
balt_allVehs <- as.data.frame(balt_allVehs)
colnames(balt_allVehs) <- c("Emissions")
Year <- rownames(balt_allVehs)
# Plots emissions from motor vehicle sources in Baltimore City from
# 1999-2008
plot5 <- ggplot(balt_allVehs, aes(Year, Emissions, group = 1))
plot5 <- plot5 + geom_line() + labs(y = "Baltimore Vehicle Emissions")
ggsave(filename = "plot5.png", plot5)
# Sets wd saved location of data
setwd("C:/Users/joneseri/Coursera/ExploratoryDataAnalysis/exdata_data_NEI_data")
# Reads-in data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Loads ggplot2 package
library(ggplot2)
SCC_vehs <- subset(SCC, grepl("Vehicles", EI.Sector))
NEI_vehs <- subset(NEI, NEI$SCC %in% SCC_vehs$SCC)
BaltLA_vehs <- subset(NEI_vehs, fips %in% c("24510", "06037"))
all_vehs <- aggregate(BaltLA_vehs$Emissions,
by = list(BaltLA_vehs$year, BaltLA_vehs$fips),
FUN = "sum")
View(all_vehs)
class(all_vehs)
rownames(all_vehs) <- c("Year", "Location", "Emissions")
View(all_vehs)
names(all_vehs) <- c("Year", "Location", "Emissions")
View(all_vehs)
class(all_vehs)
all_vehs[Location == 24510] <- "Baltimore"
all_vehs$Location == 24510 <- "Baltimore"
all_vehs$Location == "24510" <- "Baltimore"
all_vehs$Location == "24510"
all_vehs$loc <- "Baltimore"
View(all_vehs)
?where
?replace
rm(all_vehs$loc)
all_vehs <- aggregate(BaltLA_vehs$Emissions,
by = list(BaltLA_vehs$year, BaltLA_vehs$fips),
FUN = "sum")
names(all_vehs) <- c("Year", "Location", "Emissions")
View(all_vehs)
replace(all_vehs, all_vehs$Location == 24510, "Baltimore")
View(all_vehs)
replace(all_vehs, which(all_vehs$Location == 24510), "Baltimore")
replace(all_vehs, all_vehs$Location, "Baltimore")
View(all_vehs)
which(all_vehs$location == 06037)
which(all_vehs$location == "06037")
View(all_vehs)
names(all_vehs) <- c("Year", "location", "Emissions")
which(all_vehs$location == "06037")
all_vehs$Location <- "Baltimore"
View(all_vehs)
which(all_vehs$location == "06037") <- "LA"
all_vehs$Location[all_vehs$location == "06037"] <- "LA County"
View(all_vehs)
plot6 <- ggplot(all_vehs, aes(Year, Emissions, col = Location))
plot6 <- plot6 + geom_line() + labs(y = "Total Vehicle Emissions")
ggsave(filename="plot6.png", plot6)
